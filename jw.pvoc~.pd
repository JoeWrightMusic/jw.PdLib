#N canvas 606 25 723 847 12;
#X text 72 989 This a clone of the 'I-08' Pd helpfile phase vocoder
example.;
#N canvas 33 25 1407 847 readFromBuffers 1;
#X obj 18 149 t f b;
#X obj 18 198 /;
#X obj 50 173 samplerate~;
#X obj 18 227 * 1000;
#X text 18 95 Get no. ms in window;
#X obj 18 256 / 4;
#X text 67 226 get duration of each overlap (pvoc will use 4), f 17
;
#X obj 18 285 s \$0-ovlpDur;
#X obj 72 817 outlet~;
#X obj 322 817 outlet~;
#X obj 72 791 *~;
#X obj 322 791 *~;
#X obj 72 745 tabread4~;
#X obj 1112 112 f;
#X obj 196 702 r \$0-setBuf;
#N canvas 0 22 450 300 bufMsgs 0;
#X obj 279 106 s \$0-setBuf;
#X msg 279 80 set \$1-array;
#X obj 148 126 array size;
#X obj 148 103 t b s;
#X msg 148 80 symbol \$1-array;
#X obj 130 185 f;
#X obj 130 152 r \$0-trig;
#X obj 40 214 s \$0-bufLenSamps;
#X obj 160 214 t f b;
#X obj 160 263 /;
#X obj 192 238 samplerate~;
#X obj 160 292 * 1000;
#X obj 160 321 s \$0-bufLenMs;
#X obj 13 26 inlet;
#X obj 63 26 inlet;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 3 0 2 0;
#X connect 3 1 2 1;
#X connect 4 0 3 0;
#X connect 5 0 7 0;
#X connect 5 0 8 0;
#X connect 6 0 5 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 9 0 11 0;
#X connect 10 0 9 1;
#X connect 11 0 12 0;
#X connect 13 0 4 0;
#X connect 14 0 1 0;
#X restore 1112 139 pd bufMsgs;
#X text 1112 162 format 'setbuf' messages & get length of sample,
f 25;
#X obj 322 745 tabread4~;
#X obj 72 641 -~;
#X obj 90 588 / 4;
#X text 117 627 back window is 1/4 cycle behind the front one, f 15
;
#X obj 322 550 line~;
#X msg 322 526 \$1 \, \$2 \$3;
#X obj 90 564 r \$0-stretchWinSize;
#X obj 322 502 pack 0 0 0;
#X obj 389 480 r \$0-ovlpDur;
#X obj 441 87 r \$0-speed;
#X obj 518 87 r \$0-ovlpDur;
#X obj 441 116 *;
#X obj 322 85 bang~;
#X obj 322 149 f;
#X obj 340 116 r \$0-location;
#X obj 367 149 +;
#X text 477 118 increment location according to 'speed' param, f 19
;
#X obj 322 181 t f b;
#X obj 354 204 samplerate~;
#X obj 354 227 / 1000;
#X obj 322 250 *;
#X obj 322 419 -;
#X obj 322 448 t f f;
#X obj 354 474 +;
#X text 241 420 back up 1/2 window, f 10;
#X text 237 218 get reading location in samples, f 11;
#X obj 749 91 r \$0-trans;
#X obj 749 120 + 69;
#X obj 749 149 mtof;
#X obj 749 178 / 440;
#X obj 749 207 * 1;
#X obj 635 207 r \$0-windowSize;
#X obj 18 120 r \$0-windowSize;
#X obj 717 233 jw.**;
#X obj 340 397 / 2;
#X obj 716 259 s \$0-stretchWinSize;
#X obj 372 371 r \$0-stretchWinSize;
#X obj 895 91 r \$0-rewind;
#X obj 895 150 f;
#X obj 913 126 r \$0-stretchWinSize;
#X obj 895 179 t f b;
#X obj 895 232 /;
#X obj 927 203 samplerate~;
#X obj 895 261 * 1000;
#X obj 895 290 * -0.5;
#X obj 895 319 s \$0-location;
#X obj 322 328 %;
#X obj 340 304 r \$0-bufLenSamps;
#X text 237 304 wrap to sample length, f 9;
#X obj 1112 86 r \$0-bufID;
#X obj 165 744 tabreceive~ \$1;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 5 0;
#X connect 5 0 7 0;
#X connect 10 0 8 0;
#X connect 11 0 9 0;
#X connect 12 0 10 0;
#X connect 13 0 15 0;
#X connect 13 0 15 1;
#X connect 14 0 12 0;
#X connect 14 0 17 0;
#X connect 17 0 11 0;
#X connect 18 0 12 0;
#X connect 19 0 18 1;
#X connect 21 0 18 0;
#X connect 21 0 17 0;
#X connect 22 0 21 0;
#X connect 23 0 19 0;
#X connect 24 0 22 0;
#X connect 25 0 24 2;
#X connect 26 0 28 0;
#X connect 27 0 28 1;
#X connect 28 0 32 1;
#X connect 29 0 30 0;
#X connect 30 0 32 0;
#X connect 30 0 34 0;
#X connect 31 0 30 1;
#X connect 32 0 30 1;
#X connect 34 0 37 0;
#X connect 34 1 35 0;
#X connect 35 0 36 0;
#X connect 36 0 37 1;
#X connect 37 0 63 0;
#X connect 38 0 39 0;
#X connect 39 0 24 0;
#X connect 39 1 40 0;
#X connect 40 0 24 1;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 47 0 50 1;
#X connect 48 0 50 0;
#X connect 49 0 0 0;
#X connect 50 0 52 0;
#X connect 51 0 38 1;
#X connect 53 0 51 0;
#X connect 53 0 40 1;
#X connect 54 0 55 0;
#X connect 55 0 57 0;
#X connect 56 0 55 1;
#X connect 57 0 58 0;
#X connect 57 1 59 0;
#X connect 58 0 60 0;
#X connect 59 0 58 1;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 63 0 38 0;
#X connect 64 0 63 1;
#X connect 66 0 13 0;
#X connect 67 0 11 1;
#X connect 67 0 10 1;
#X restore 312 218 pd readFromBuffers;
#X obj 385 11 inlet;
#X obj 18 12 inlet;
#X obj 18 41 s \$0-speed;
#X obj 117 11 inlet;
#X obj 117 40 s \$0-trans;
#X obj 212 11 inlet;
#X obj 212 40 s \$0-rewind;
#X obj 385 38 s \$0-bufID;
#X obj 72 959 outlet~;
#X obj 467 65 r \$0-window-size;
#X obj 466 10 inlet;
#X obj 466 39 s \$0-window-size;
#X msg 467 94 set \$1 4;
#X obj 467 123 block~;
#X obj 72 855 *~;
#X obj 72 930 *~;
#X obj 102 855 tabreceive~ \$0-hann;
#X obj 90 882 r \$0-window-size;
#X obj 90 906 expr 2/(3*$f1);
#X obj 72 826 rifft~;
#X obj 312 257 rfft~;
#X obj 435 677 rfft~;
#X obj 18 100 tabreceive~ \$0-prevReal;
#X obj 192 100 tabreceive~ \$0-prevImag;
#N canvas 0 22 450 300 phaseTables 0;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-prevImag 4096 float 0 black black;
#X coords 0 1000 4095 -1000 317 131 1;
#X restore 40 80 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array \$0-prevReal 4096 float 0 black black;
#X coords 0 500 4095 -500 317 131 1;
#X restore 40 220 graph;
#X restore 467 172 pd phaseTables;
#X obj 236 143 *~;
#X obj 310 143 *~;
#X obj 236 168 +~;
#X obj 236 193 +~ 1e-20;
#X obj 236 218 q8_rsqrt~;
#X obj 72 257 *~;
#X obj 192 257 *~;
#X obj 72 339 *~;
#X obj 101 339 *~;
#X obj 232 339 *~;
#X obj 261 339 *~;
#X obj 72 378 +~;
#X obj 232 378 -~;
#X obj 94 422 lrshift~ 1;
#X obj 84 445 lrshift~ -1;
#X obj 94 486 *~;
#X obj 270 423 lrshift~ 1;
#X obj 260 446 lrshift~ -1;
#X obj 270 487 *~;
#X obj 360 447 r \$0-lock;
#X obj 307 11 inlet;
#X obj 307 40 s \$0-lock;
#X obj 72 512 +~;
#X obj 232 512 +~;
#X obj 72 543 +~ 1e-15;
#X obj 197 596 *~;
#X obj 232 596 *~;
#X obj 197 620 +~;
#X obj 197 644 q8_rsqrt~;
#X obj 72 677 *~;
#X obj 101 677 *~;
#X obj 72 726 *~;
#X obj 101 726 *~;
#X obj 172 726 *~;
#X obj 201 726 *~;
#X obj 72 755 -~;
#X obj 172 755 +~;
#X obj 172 797 tabsend~ \$0-prevImag;
#X obj 172 826 tabsend~ \$0-prevReal;
#X connect 1 0 22 0;
#X connect 1 1 23 0;
#X connect 2 0 9 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 7 0 8 0;
#X connect 11 0 14 0;
#X connect 12 0 13 0;
#X connect 14 0 15 0;
#X connect 16 0 17 0;
#X connect 17 0 10 0;
#X connect 18 0 16 1;
#X connect 19 0 20 0;
#X connect 20 0 17 1;
#X connect 21 0 16 0;
#X connect 22 0 34 1;
#X connect 22 0 36 1;
#X connect 22 1 35 1;
#X connect 22 1 37 1;
#X connect 23 0 58 1;
#X connect 23 0 61 1;
#X connect 23 1 59 1;
#X connect 23 1 60 1;
#X connect 24 0 27 0;
#X connect 24 0 27 1;
#X connect 24 0 32 0;
#X connect 25 0 28 0;
#X connect 25 0 28 1;
#X connect 25 0 33 0;
#X connect 27 0 29 0;
#X connect 28 0 29 1;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 33 1;
#X connect 31 0 32 1;
#X connect 32 0 34 0;
#X connect 32 0 37 0;
#X connect 33 0 35 0;
#X connect 33 0 36 0;
#X connect 34 0 38 0;
#X connect 35 0 38 1;
#X connect 36 0 39 0;
#X connect 37 0 39 1;
#X connect 38 0 40 0;
#X connect 38 0 41 0;
#X connect 38 0 49 0;
#X connect 39 0 43 0;
#X connect 39 0 44 0;
#X connect 39 0 50 0;
#X connect 40 0 42 0;
#X connect 41 0 42 0;
#X connect 42 0 49 1;
#X connect 43 0 45 0;
#X connect 44 0 45 0;
#X connect 45 0 50 1;
#X connect 46 0 45 1;
#X connect 46 0 42 1;
#X connect 47 0 48 0;
#X connect 49 0 51 0;
#X connect 50 0 53 0;
#X connect 50 0 53 1;
#X connect 50 0 57 0;
#X connect 51 0 52 0;
#X connect 51 0 52 1;
#X connect 51 0 56 0;
#X connect 52 0 54 0;
#X connect 53 0 54 1;
#X connect 54 0 55 0;
#X connect 55 0 57 1;
#X connect 55 0 56 1;
#X connect 56 0 58 0;
#X connect 56 0 60 0;
#X connect 57 0 59 0;
#X connect 57 0 61 0;
#X connect 58 0 62 0;
#X connect 59 0 62 1;
#X connect 60 0 63 0;
#X connect 61 0 63 1;
#X connect 62 0 21 0;
#X connect 62 0 65 0;
#X connect 63 0 21 1;
#X connect 63 0 64 0;
